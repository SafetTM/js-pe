<!doctype html>
<html lang="nl">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Validatie formulier</title>
</head>

<body>

    <!--Voor de hele formulier heb ik de officiële website van bootstrap gebruikt. https://getbootstrap.com/docs/5.0/forms/validation/ -->

    <main class="container">
        <div class="row">
            <div class="col">
                <h1>Registreer</h1>
                <p>Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</p>
            </div>
        </div>
        <form action="#">
            <div class="row g-3">
                <div class="col">
                    <label for="voornaam" class="form-label">Voornaam</label>
                    <input type="text" class="form-control" id="voornaam">
                </div>
                <div class="col">
                    <label for="naam" class="form-label">Naam</label>
                    <input type="text" class="form-control" id="naam">
                </div>
            </div>
            <div class="row g-3">
                <div class="col">
                    <label class="form-label" for="gebruikersnaam">Gebruikersnaam</label>
                    <div class="input-group">
                        <div class="input-group-text">@</div>
                        <input type="text" class="form-control" id="gebruikersnaam" placeholder="u911236">
                    </div>
                </div>
                <div class="col">
                    <label for="emailadres" class="form-label">E-mailadres</label>
                    <input type="email" class="form-control" id="emailadres" placeholder="mail@example.be">
                </div>
            </div>
            <div class="row g-3">
                <div class="col">
                    <label for="wachtwoord" class="form-label">Wachtwoord</label>
                    <input type="password" class="form-control" id="wachtwoord">
                </div>
                <div class="col">
                    <label for="herhaalWachtwoord" class="form-label">Herhaal wachtwoord</label>
                    <input type="password" class="form-control" id="herhaalWachtwoord">
                </div>
            </div>
            <p>Je wachtwoord moet minstens 8 tekens lang zijn</p>
            <div class="row g-3">
                <div class="col-12">
                    <label for="adres" class="form-label">Adres</label>
                    <input type="text" class="form-control" id="adres" placeholder="Uw adres en huisnummer">
                </div>
            </div>
            <div class="row g-3">
                <div class="col-md-6">
                    <label for="land" class="form-label">Land</label>
                    <select id="land" class="form-select">
                      <option selected>Kies een land</option>
                      <option>België</option>
                      <option>Nederland</option>
                      <option>Duitsland</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="provincie" class="form-label">Provincie</label>
                    <select id="provincie" class="form-select">
                      <option selected>Kies een provincie</option>
                      <option>Antwerpen</option>
                      <option>Utrecht</option>
                      <option>Bremen</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <label for="postcode" class="form-label">Postcode</label>
                    <input type="number" class="form-control" id="postcode">
                </div>
            </div>
            <hr>
            <h3>Hou me op de hoogte</h3>
            <div class="row g-3">
                <div class="col-12">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="nieuwsbrief">
                        <label class="form-check-label" for="nieuwsbrief">
                        Inschrijven voor onze nieuwsbrief
                      </label>
                    </div>
                </div>
                <div class="col-12">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="voorwaarden">
                        <label class="form-check-label" for="voorwaarden">
                        Ik ga akkoord met de algemene voorwaarden.
                      </label>
                    </div>
                </div>
            </div>
            <h3>Betaling</h3>
            <div class="row g-3">
                <div class="col-sm-10">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="gridRadios" id="banking" value="option1" checked>
                        <label class="form-check-label" for="banking">
                        Banking app
                      </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="gridRadios" id="overschrijving" value="option2">
                        <label class="form-check-label" for="overschrijving">
                        Overschrijving
                      </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="gridRadios" id="visa" value="option3">
                        <label class="form-check-label" for="visa">
                            Visa card
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="gridRadios" id="paypal" value="option4">
                        <label class="form-check-label" for="paypal">
                            PayPal
                        </label>
                    </div>
                </div>
            </div>
            <hr>

            <div class="col-12">
                <!--Er moet twee keer gedrukt worden op de knopje. Ik kon het probleem niet echt oplossen, dus mijn excuses daarvoor!-->
                <button name="button" onclick="validateForm()" id="button" class="btn btn-primary">Wave your magic wand</button>
            </div>

            <div class="alert alert-danger" role="alert">
                <div class="row g-3">
                    <div class="col-sm-10" id="alertsDanger">

                    </div>
                </div>
            </div>

            <div class="alert alert-success" role="alert">
                <div class="row g-3">
                    <div class="col-sm-10" id="alertsSuccess">

                    </div>
                </div>
            </div>

            <div class="alert alert-info" role="alert">
                <div class="row g-3">
                    <div class="col-sm-10" id="alertsInfo">

                    </div>
                </div>
            </div>

        </form>

    </main>

    <script>
        function validateForm() {

            //variabelen declareren

            let melding;
            let errors = [];

            let voornaam = document.getElementById('voornaam');
            let naam = document.getElementById('naam');
            let gebruikersnaam = document.getElementById('gebruikersnaam');
            let emailadres = document.getElementById('emailadres');
            let wachtwoord = document.getElementById('wachtwoord');
            let herhaalWachtwoord = document.getElementById('herhaalWachtwoord');
            let adres = document.getElementById('adres');
            let postcode = document.getElementById('postcode');
            let provincie = document.getElementById('provincie');
            let land = document.getElementById('land');
            let banking = document.getElementById('banking');
            let voorwaarden = document.getElementById('voorwaarden');

            //lege velden controleren

            checkEmptyField('voornaam', 'voornaam');
            checkEmptyField('naam', 'naam');
            checkEmptyField('gebruikersnaam', 'gebruikersnaam');
            checkEmptyField('emailadres', 'emailadres');
            checkEmptyField('wachtwoord', 'wachtwoord');
            checkEmptyField('herhaalWachtwoord', 'Herhaal wachtwoord');
            checkEmptyField('adres', 'adres');
            checkEmptyField('postcode', 'postcode');
            checkEmptyField('provincie', 'provincie');
            checkEmptyField('land', 'land');

            function checkEmptyField(veld, melding) {
                if (document.getElementById(veld).value.length == 0)
                    errors.push(`Het veld ${melding} is vereist.`);
            }


            //mailadres valideren

            function validateEmail(emailadres) {

                //https://www.w3resource.com/javascript/form/email-validation.php
                var mailformat = /^w+([.-]?w+)*@w+([.-]?w+)*(.w{2,3})+$/;
                if (emailadres.value.match(mailformat)) {
                    return true;

                } else {
                    errors.push("Ongeldig emailadres!")
                    return false;

                }

            }

            //wachtwoord en gebruikersnaam controleren 

            if (wachtwoord.value.length < 8 || herhaalWachtwoord.value.length < 8) {
                errors.push("Wachtwoorden moeten minstens 8 tekens lang zijn!");
            }
            if (wachtwoord != herhaalWachtwoord) {
                errors.push("Wachtwoorden moeten identiek zijn!");
            }

            if (gebruikersnaam.value.length == 0) {
                errors.push("Gebruikersnaam moet minstens 1 karakter bevatten!");
            }

            //betalingsmethode

            function validatePayment(veld) {

                let betalingsmethode;

                switch (radio.value) {
                    case 'banking':
                        betalingsmethode = "banking";
                        break;
                    case 'overschrijving':
                        betalingsmethode = "overschrijving";
                        break;
                    case 'visa':
                        betalingsmethode = "visa";
                        break;
                    case 'paypal':
                        betalingsmethode = "paypal";
                        break;

                }

                return betalingsmethode;
            }

            betalingsmethode = validatePayment(banking);

            //controle postcode

            function checkPC(veld) {
                if (veld.value.length == 0) {
                    errors.push("Het veld postcode is vereist!");
                }
                if (veld < 1000 || veld >= 10000) {
                    errors.push("Postcode moet tussen 1000 en 9999 liggen!")
                }

            }
            checkPC(postcode.value);

            //controle voorwaarden 

            if (!voorwaarden.checked) {
                errors.push("Het algemene voorwaarden moeten geaccepteerd worden!")
            }

            //einde resultaat 

            let foutmelding = errors.join("</p><p>");
            let alertsDanger = document.getElementById('alertsDanger');
            let alertsSuccess = document.getElementById('alertsSuccess');
            let alertsInfo = document.getElementById('alertsInfo');

            if (errors.length > 0) {

                alertsDanger.innerHTML = foutmelding;

            } else {
                alertsSuccess.innerHTML = 'Aww yeah, je werd geregistreerd';
                alertsInfo.innerHTML = betalingsmethode;
            }

        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>

</body>

</html>